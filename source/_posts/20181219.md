---
title: 重构的艺术？
typora-copy-images-to: 20181219
date: 2018-12-19 23:14:12
tags:
 - 瞎逼叨
categories: 
 - 瞎逼叨
---

2018年12月19日。年底了，照常冷，今晚下雨。花了一个来月的时间写了一个微服务的项目，终于在昨天写完了。

还是和往常一样想到啥写啥。其实写文章这种事本身就是非常难的一件事，毕竟人的思维是散发性的，就跟蹦豆豆似得点子一个接着一个。然而写句子这种事偏偏又是线性的，很多想法还没有开始写就已经搞忘了。开发过程中也是这样，点子一个接着一个。这里得改一下，不然会出bug。或者是实现那个功能之前得先查清楚这个。可惜写代码也是线性的，写了半天发现，哎呀！搞忘记那啥了，或者是做着做着发现设计不合理之类的，就只能推倒重来。所以现在都提倡思考两小时编码5分钟的说法。可惜啊水平不够，在脑袋里勾出所有细节还是太难了。哪怕是多次头脑风暴后憋出来的架构，写起来还是发现哪哪有问题，还是得重构好几次。



说道散发性思维，记录灵感这种事比起句子更适合的是单词，也就是我平时爱用的便签。搞开发的时候便签有和没有效率是完全不一样的，但有时候便签也并不能达到我所期望的效果，毕竟把点子变成文字还是有难度的。有时候一想到啥马上就拿便签想记下来的时候，拿起笔结果一个字都写不出来。



偏题了，聊聊重构。项目写一半发现架构不合理这种事，自己的项目顶多花一下午时间重构一遍。想想这种要是在公司，项目都起航了还突然改架构，那成本得有多高啊。也可以看出来架构师们到底有多牛，而且也感受到真的非常需要经验。实际上当发现项目不合理时进行重构是完全正确的，而且越及时越好。当然得是在时间成本允许的情况下，而且得以更长远的眼光去思考重构后的架构。为什么说是得越及时越好，硬着头皮按不合理的设计写下去，代码积累的越来越多，重构的成本也越来越高。实际上平时就应该以审视的态度去写代码，当发现设计有不合理的时候马上做出反应，而不应该一直往上堆积，不然代码真的会很shit。之所以说这么多，其实是因为这次花了一个多月写的项目，中途也是因为觉得不合理重构了好多次，折腾死了。当然重构可以提高自己的编码水平，厉害的架构师可能也是像这样一步步过来的吧。